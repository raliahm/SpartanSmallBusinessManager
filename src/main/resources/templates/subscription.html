<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Razorpay Subscription Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body >
<div id="navbar-container"></div>

<h2 class="text-center">Razorpay Subscription Demo</h2>

<button id="createSub" class="btn btn-primary">Create Subscription</button>
<p id="subDetails" class="mt-3"></p>

<script>
    document.getElementById("createSub").addEventListener("click", async () => {
        let response = await fetch("https://api.razorpay.com/v1/subscriptions", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Authorization": "Basic " + btoa("rzp_test_0pexq8siKSIY38:cenSJXLlDoQZFfiwmwDMRQgf")
            },
            body: JSON.stringify({
                plan_id: "plan_XXXXXXX",
                customer_notify: 1,
                total_count: 6,
                quantity: 1
            })
        });

        let data = await response.json();
        document.getElementById("subDetails").innerHTML = `Subscription ID: <b>${data.id}</b> <br> Status: <b>${data.status}</b>`;
    });
</script>

</body>
</html>
