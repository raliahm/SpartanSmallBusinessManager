<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Summary</title>
    <link href="style.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <!--aside section start -->
        <aside>
            <!--top section-->
            <div class="top">
                <div class="logo">
                    <h2>
                        <span class="danger">SSBM Admin</span>
                    </h2>
                </div>
                <button  id="menu_bar">
                    <span class="material-symbols-outlined">menu</span>
                </button>

                <button  id="close_btn">
                    <span class="material-symbols-outlined"> close </span>
                </button>
            </div>
            <!--top section-->
            <div class="sidebar">

                <a href="/">
                    <span class="material-symbols-outlined"> grid_view </span>
                    <h3>Dashboard</h3>
                </a>
                <a href="/small-business" >
                    <span class="material-symbols-outlined"> supervisor_account </span>
                    <h3>Business View</h3>
                </a>
                <a href="/student">
                    <span class="material-symbols-outlined"> person </span>
                    <h3>Student View</h3>
                </a>
                <a href="/analytics" class="active">
                    <span class="material-symbols-outlined"> monitoring </span>
                    <h3>Analytics</h3>
                </a>
                <a href="/usage-details">
                    <span class="material-symbols-outlined"> email </span>
                    <h3>User Approvals</h3>
                </a>
                <a href="/review" ><span class="material-symbols-outlined">flag</span><h3>Review Flagged</h3></a>
                <a href="/bad-words">
                    <span class="material-symbols-outlined"> share_reviews </span>
                    <h3>Bad Word View</h3>
                </a>


                <a href="/login">
                    <span class="material-symbols-outlined"> logout  </span>
                    <h3>Logout</h3>
                </a>
            </div>
        </aside>
        <!-- aside end-->

        <main>
            <h1>Analytics Dashboard</h1>

            <!-- Total Income Section -->
            <div class="business-stats">
                <div class="stat-item">
                    <h3>Total Income</h3>
                    <p>$45,230</p>
                </div>

                <!-- Website Usage Statistics -->
                <div class="stat-item">
                    <h3>Website Usage</h3>
                    <ul>
                        <li>Unique Visitors: 5,320</li>
                        <li>Page Views: 18,420</li>
                        <li>Avg. Time on Site: 2m 15s</li>
                        <li>Bounce Rate: 35%</li>
                    </ul>
                </div>
            </div>

            <!-- Comment Section for Student Replies -->
            <div class="comment-section">
                <h3>Replies to Students</h3>

                <div class="comment">
                    <p><strong>John Doe:</strong> "I love the course content! It's very engaging and informative." </p>
                    <p><strong>Reply:</strong> "Thank you, John! We're glad you're enjoying the content!"</p>
                </div>

                <div class="comment">
                    <p><strong>Jane Smith:</strong> "How can I get more personalized feedback on my project?" </p>
                    <p><strong>Reply:</strong> "Feel free to schedule a 1-on-1 session with the instructor. We'll help you out!"</p>
                </div>
            </div>
            <div class="cards-container">
                <div class="card" >
                    <div class="card-body">
                        <canvas id="chart1" width="400" height="400"></canvas>
                        <h5 class="card-title">Student</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Number of Student Users</h6>
                        <p class="card-text">Basic Statistics of Students</p>
                    </div>
                </div>
                <div class="card" >
                    <div class="card-body">
                        <canvas id="chart2" width="400" height="400"></canvas>
                        <h5 class="card-title">Small Business</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Number of Small Business Users</h6>
                        <p class="card-text">Basic Statistics of Small Buisness users</p>
                    </div>
                </div>
                <div class="card" >
                    <div class="card-body">
                        <canvas id="chart3" width="400" height="400"></canvas>
                        <h5 class="card-title">Reviews</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Engagement Statistics</h6>
                        <p class="card-text">Basic Statistics of Reviews</p>
                    </div>
                </div>
            </div>

        </main>
        <!-- right section start -->
        <div class="right">
            <!-- start top -->
            <div class="top">
                <button id="menu-bar">
                    <span class="material-symbols-outlined">menu</span>
                </button>
                <div class="profile">
                    <div class="info">
                        <p><b>Reba</b></p>
                        <p>Admin</p>
                        <small class="text-muted"></small>
                    </div>
                    <div class="profile-photo">
                        <img src="/images/profile-pic.webp">
                    </div>
                </div>
            </div>
            <!-- end top -->
            <!--start recent updates -->
            <div class="recent_updates">
                <h2>Recent Update</h2>
                <div class="updates">
                    <div class="update">
                        <div class="profile-photo">
                            <img src="/images/monkey2.jpeg" alt="">
                        </div>
                        <div class="message">
                            <p><b>Spartan Autos</b> Profile is approved</p>
                        </div>
                    </div>
                    <div class="update">
                        <div class="profile-photo">
                            <img src="/images/monkey2.jpeg" alt="">
                        </div>
                        <div class="message">
                            <p><b>Spartan Autos</b> Profile is approved</p>
                        </div>
                    </div>
                    <div class="update">
                        <div class="profile-photo">
                            <img src="/images/monkey2.jpeg" alt="">
                        </div>
                        <div class="message">
                            <p><b>Spartan Autos</b> Profile is approved</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end recent updates-->

            <!-- start sales analytic -->
            <div class="sales_analytics">
                <div class="item">
                    <div class="icon">
                        <span class="material-symbols-outlined">shopping_cart</span>
                    </div>
                    <div class="right_text">
                        <h3>Online Sales</h3>
                        <small class="text-muted">Last seen 2 hours</small>
                    </div>
                    <h5 class="danger"> -17%</h5>
                    <h3>3849</h3>
                </div>

            </div>
            <div class="sales_analytics">
                <div class="item">
                    <div class="icon">
                        <span class="material-symbols-outlined">shopping_cart</span>
                    </div>
                    <div class="right_text">
                        <h3>Online Sales</h3>
                        <small class="text-muted">Last seen 2 hours</small>
                    </div>
                    <h5 class="danger"> -17%</h5>
                    <h3>3849</h3>
                </div>

            </div>
            <div class="sales_analytics">
                <div class="item online">
                    <div class="icon">
                        <span class="material-symbols-outlined">shopping_cart</span>
                    </div>
                    <div class="right_text">
                        <h3>Online Sales</h3>
                        <small class="text-muted">Last seen 2 hours</small>
                    </div>
                    <h5 class="danger"> -17%</h5>
                    <h3>3849</h3>
                </div>


            </div>
            <!-- end sales analytic -->



        </div>
        <!-- right section end -->
    </div>



<!-- Bootstrap JS -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script>
    fetch('navbar.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('navbar-container').innerHTML = data;
        })
        .catch(error => console.error('Error loading navbar:', error));  // To catch any fetch errors

</script>
<script>
    const c = document.getElementById("chart3");
    const ctx = c.getContext("2d");
    const data = [30, 20, 50]; // Example values
    const colors = ["#FF6384", "#36A2EB", "#FFCE56"];
    const total = data.reduce((sum, value) => sum + value, 0);
    const centerX = c.width / 2;
    const centerY = c.height / 2;
    const radius = 100;
    const holeRadius = 50;
    let startAngle = 0;

    data.forEach((value, index) => {
        const sliceAngle = (value / total) * (2 * Math.PI);
        const endAngle = startAngle + sliceAngle;

        // Draw slice
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius, startAngle, endAngle);
        ctx.closePath();
        ctx.fillStyle = colors[index];
        ctx.fill();

        startAngle = endAngle;
    });

    // Draw center hole
    ctx.globalCompositeOperation = "destination-out";
    ctx.beginPath();
    ctx.arc(centerX, centerY, holeRadius, 0, 2 * Math.PI);
    ctx.fill();
    ctx.globalCompositeOperation = "source-over";
</script>
<script>
    // Get the business name from the URL query parameter
    const urlParams = new URLSearchParams(window.location.search);
    //const businessName = urlParams.get('business');

    // Use the businessName on the dashboard (for example, display it on the page)
    //document.getElementById('business-name-display').textContent = businessName;

    function drawDonutChart(canvasId, data, colors) {
        const canvas = document.getElementById(canvasId);
        const ctx = canvas.getContext("2d");
        const total = data.reduce((sum, value) => sum + value, 0);
        const centerX = canvas.width / 2;
        const centerY = canvas.height / 2;
        const radius = 100;
        const holeRadius = 50;
        let startAngle = 0;

        data.forEach((value, index) => {
            const sliceAngle = (value / total) * (2 * Math.PI);
            const endAngle = startAngle + sliceAngle;

            // Draw slice
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.arc(centerX, centerY, radius, startAngle, endAngle);
            ctx.closePath();
            ctx.fillStyle = colors[index];
            ctx.fill();

            startAngle = endAngle;
        });

        // Draw center hole
        ctx.globalCompositeOperation = "destination-out";
        ctx.beginPath();
        ctx.arc(centerX, centerY, holeRadius, 0, 2 * Math.PI);
        ctx.fill();
        ctx.globalCompositeOperation = "source-over";
    }

    drawDonutChart("chart1", [30, 20, 50], ["#FF6384", "#36A2EB", "#FFCE56"]);
    drawDonutChart("chart2", [40, 30, 30], ["#4BC0C0", "#9966FF", "#FF9F40"]);
    drawDonutChart("chart3", [25, 25, 50], ["#FF6384", "#FFCE56", "#36A2EB"]);
</script>

</body>

</html>

